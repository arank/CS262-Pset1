syntax = "proto2";

message Message {
  enum Type {
    DIRECT = 1;
    GROUP = 2;
  }

  required User from = 1;
  optional User toUser = 2;
  optional Group toGroup = 3;
  required string msg = 4;
}

message Group {
  required string name = 1;
  repeated User users = 2;
}

message User {
  required string name = 1;
  repeated Group groups = 2;
  repeated Message undeliveredMessages = 3;
}

message UserError {
  required string message = 1;
}
